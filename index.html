<!doctype html>
<html lang="fr">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Projet Web Sémantique</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar navbar-dark bg-dark py-3 position-fixed top-0 w-100">
        <div class="container-fluid text-light d-flex justify-content-between px-4">
            <span class="fw-semibold">Projet Web Sémantique</span>
            <span class="fst-italic text-secondary">Alexandre C. &nbsp; Nicolas V.</span>
        </div>
    </nav>

    <!-- Contenu principal -->
    <main class="site-content">
        <section class="d-flex flex-column justify-content-center align-items-center text-center border">
        <h1 class="mb-3">Bienvenue sur notre projet de Web Sémantique</h1>
        <p class="lead">Scrollez pour découvrir notre analyse</p>
        </section>

        <section class="d-flex flex-column justify-content-center align-items-center text-center border">
        <h1 class="mb-4">Les villes Fleuries sont elles moins polluées ?</h1>
            <p class="lead text-muted fst-italic">Une analyse de Alexandre Charpentier et Nicolas Vouilloux</p>
        <img src="images/quatre_fleurs.png" alt="Villes fleuries" class="img-fluid mb-3" />
        </section>

        <section class="d-flex flex-column justify-content-center align-items-center border">
            <div class="container d-flex justify-content-center">
                <div class="text-start">
                    <h2 class="mb-2">Sommaire</h2>
                    <ul class="list-unstyled lead ps-5">
                        <li>Contexte
                            <ul>
                                <li>Méthodologie</li>
                                <ul>
                                    <li>Les outils</li>
                                    <li>Dataset</li>
                                    <li>Transformation</li>
                                    <li>Enrichissement</li>
                                    <li>Site Web</li>
                                </ul>
                                <li>Le label Villes Fleuries</li>
                            </ul>
                        </li>
                        <li>Étude
                            <ul>
                                <li>Partie 1. Premiers résultats</li>
                                <li>Partie 2. Questionnement</li>
                                <li>Partie 3. Enrichissement</li>
                                <li>Partie 4. Seconds résultats</li>
                            </ul>
                        </li>
                        <li>Analyse
                            <ul>
                                <li>Conclusion</li>
                                <li>Pour aller plus loin...</li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <section class="d-flex flex-column justify-content-center align-items-center text-center border">
            <h1>Contexte</h1>
        </section>

        <section class="d-flex flex-column justify-content-center align-items-center text-center border">
            <h1 class="mb-3">Méthodologie</h1>
            <h3 class="mb-5">Les outils</h3>
            <p class="lead">Ce projet est basé sur <strong>SparQL</strong> : langage de requête pour interroger les données RDF.</p>
            <p class="lead">Parmi les outils que nous avons utilisés pour notre projet, on retrouve :</p>
            <div class="text-center" style="margin-left: 150px;">
                <ul class="list-unstyled lead text-start d-inline-block">
                    <li>- <a href="https://graphdb.ontotext.com/" target="_blank"><strong>GraphDB</strong></a> : base de données orientée graphe pour stocker et interroger nos données.</li>
                    <li>- <a href="https://www.ontotext.com/products/ontotext-refine/" target="_blank"><strong>OnToTextRefine</strong></a> : outil pour nettoyer et structurer les données avant intégration.</li>
                    <li>- <a href="https://www.wikidata.org/" target="_blank"><strong>WikiData</strong></a> : source d’informations pour enrichir nos données existantes.</li>
                    <li>- JS / Bootstrap / Python / HTML…</li>
                </ul>
            </div>
        </section>

        <section class="d-flex flex-column justify-content-center align-items-center text-center border">
            <h1 class="mb-3">Méthodologie</h1>
            <h3 class="mb-5">Données</h3>
            <div class="px-5">
                <p class="lead">Pour notre étude, nous avons choisis 2 datasets :</p>
                <ul class="list-unstyled lead">
                    <li>- <a href="https://www.data.gouv.fr/datasets/communes-dile-de-france-labellisees-villes-et-villages-fleuris-2016/" target="_blank">
                        Les Communes d'Île-de-France labellisées Villes et Villages Fleuris 2016
                    </a></li>
                    <li>- <a href="https://www.data.gouv.fr/datasets/indices-qualite-de-lair-citeair-journaliers-par-polluant-sur-lile-de-france-les-departements-les-communes-franciliennes-et-les-arrondissements-parisiens/" target="_blank">
                        Indices Qualité de l'air (Citeair) journaliers par polluant sur l'Île-de-France 
                    </a></li>
                </ul>
                <p class="lead">Ces datasets sont fournis par le gouvernement français et sont disponibles sur <a href="https://www.data.gouv.fr/" target="_blank">data.gouv.fr</a></p>
                
                <h5 class="my-2">Choix</h5>
                
                <p class="lead" style="max-width: 60vw;">
                    L’idée de travailler sur les villes fleuries nous est venue en nous baladant sur le site.
                    Ensuite, nous avons choisi assez naturellement d’étudier le rapport entre le label et la pollution des communes.
                    Nous avons donc recherché un dataset qui pouvait nous aider pour cette étude, et celui sur les indices de qualité de l’air semblait parfait pour notre usage.
                </p>

                <h5 class="my-2">Périmètre</h5>

                <p class="lead" style="max-width: 60vw;">
                    Nous avons choisi de nous concentrer sur l’<strong>Île-de-France</strong> pour plusieurs raisons :
                    Premièrement, la région est densément peuplée et comprend de nombreuses communes labellisées Villes et Villages Fleuris, ce qui offre un échantillon pertinent pour notre analyse.
                    Deuxièmement, la qualité de l’air est un enjeu majeur dans cette région en raison de la forte activité urbaine et industrielle.
                    De plus, limiter notre champ d’étude nous a permis de mieux gérer la quantité et la qualité des données à traiter. Pour les mêmes raisons, les données datent uniquement de <strong>2016</strong>.                
                </p>
            </div>
        </section>

        <section class="d-flex flex-column justify-content-center align-items-center text-center border">
            <h1 class="mb-3">Méthodologie</h1>
            <h3 class="mb-4">Transformation</h3>
            <div style="max-width: 65vw;">
                <p class="lead">Les fichiers CSV bruts de data.gouv sont de bonne qualité mais n’étaient pas assez exhaustifs pour notre étude. Nous avons donc, grâce à des scripts Python, adapté leur contenu.</p>
                <p class="lead">Le problème principal était que le dataset pollution faisait référence aux communes par leur code INSEE, alors que celui des villes fleuries utilisait le code postal.</p>
                <p class="lead">Pour assembler les deux, nous avons donc eu recours à un troisième CSV, également issu de data.gouv, qui associe les codes INSEE et postaux.</p>
                <p class="lead">Grâce à Python, nous avons ajouté le code INSEE aux villes fleuries et effectué un peu de nettoyage.</p>
            </div>

            <div class="mt-4">
                <a href="https://www.data.gouv.fr/datasets/correspondances-code-insee-code-postal-idf/" target="_blank">
                    Dataset Correspondances Code INSEE - Code Postal l'Île-de-France 
                </a>
            </div>
        
            <h3 class="my-4">Enrichissement</h3>
            <p class="lead">Une fois nos données prêtes et nettoyées, nous les avons enrichies avec des données de WikiData.</p>
            <p class="lead">Nous avons choisi d’ajouter pour chaque commune sa population et sa surface (en km²).</p>

            <div class="mt-4">
                <a href="https://www.wikidata.org/wiki/Q247256" target="_blank">
                    Exemple de commune WikiData 
                </a>
            </div>
        </section>

        <section class="d-flex flex-column justify-content-center align-items-center text-center border">
            <div class="px-4">
                <h1 class="mb-4">Le label Villes Fleuries</h1>
                <h2 class="mb-4">Présentation</h3>
                <p class="lead">De son nom complet, Label Villes et Villages Fleuris, est un label porté par le CNVVF (Conseil National des Villes et Villages Fleuris)</p>
                <p class="lead">Il a pour but de récompenser les communes françaises qui s'engagent dans une démarche de qualité de vie par le biais d'un aménagement paysager et d'une gestion durable de l'environnement.</p>
                <p class="lead">Le label est attribué selon un système de "fleurs", allant de 1 à 4, ce label est évalué par un jury qui visite la commune et analyse la cohérence du projet municipal, la diversité du patrimoine végétal, la qualité des aménagements et la mise en valeur de l’espace public. L’objectif est de promouvoir des villes plus agréables, durables et attractives pour leurs habitants et visiteurs.</p>
                <br>
                <img src="images/cnvvf.png" height="150px" alt="Logo CNVVF" class="mb-3" />
                <br>
                <img src="images/partenaires.png" alt="Partenaires" class="img-fluid mb-3" />
            </div>
        </section>

        <section class="d-flex flex-column justify-content-center align-items-center text-center border">
            <h1>Étude</h1>
        </section>

        <section class="d-flex flex-column justify-content-center align-items-center text-center border">
            <h1>Premiers Résultats</h1>
            <div style="max-width: 80vw;">
                <p class="lead">Pour débuter notre étude, nous allons présenter nos premiers résultats.</p>
                <p class="lead">Par la suite, nous irons plus loin dans l’analyse, mais nous avons construit cette étude de manière progressive. Ces résultats préliminaires constituent donc la première étape de notre cheminement.</p>

                <h5>Requête</h5>
                <p class="lead">Nous avons commencé par intérroger notre base pour obtenir les moyennes de pollution par score de Villes Fleuries</p>

                <div class="d-flex justify-content-center gap-4">
                    <pre class="bg-light p-3 rounded text-start">
SELECT (?score AS ?scoreVilleFleurie)
    (ROUND(AVG(xsd:decimal(?no2)) * 10) / 10 AS ?moyenneNO2)
    (ROUND(AVG(xsd:decimal(?o3)) * 10) / 10 AS ?moyenneO3)
    (ROUND(AVG(xsd:decimal(?pm10)) * 10) / 10 AS ?moyennePM10)
WHERE {
    ?com rdf:type rcw:Commune ;
        rcw:scoreFleur ?score ;
        rcw:ville ?ville ;
        rcw:no2 ?no2 ;
        rcw:o3 ?o3 ;
        rcw:pm10 ?pm10 .
}
GROUP BY ?score
ORDER BY ?scoreVilleFleurie
                    </pre>

                    <div style="width: 400px; height: 300px;">
                        <canvas id="chart_premier_result"></canvas>
                    </div>
                </div>

                <p class="lead mt-3">Les résultats obtenus montrent une tendance intéressante : <strong>plus la commune est fleurie, plus elle est polluée et cela augmente même graduellement avec le score.</strong></p>
            </div>
        </section>

        <section class="d-flex flex-column justify-content-center align-items-center text-center border">
            <div style="max-width: 60vw;">
                <h1 class="mb-4">Questionnement</h1>
                <h5>Ces résultats sont pour le moins... étonnants !</h5>
                <p class="lead">Pour ainsi dire, c'est même l'inverse des résultats escomptés.</p>
                <p class="lead">À ce moment de notre étude, nous avons réalisé que nos résultats pourraient ne pas être fiables. En effet, si nous pouvions nous attendre à ce qu'un label ne règle pas magiquement la pollution industrielle, on ne pouvait néanmoins pas s'attendre à ce qu'elle l'aggrave.</p>
                <p class="lead">Nous avons donc décidé de nous pencher sur les possibles biais de notre étude pour essayer d'y remédier.</p>
                <p class="lead">Après réflexion, nous avons identifié plusieurs facteurs pouvant impacter nos résultats :</p>
                <ul class="list-unstyled lead">
                    <li>- La taille des communes : les grandes villes sont souvent plus riches</li>
                    <li>- La population : les villes plus peuplées peuvent avoir davantage de pollution due au trafic et à l'industrie</li>
                    <li>- Le Label : quels sont les critères de notation et sa fiabilité ? A qui le titre est-il desservit ?</li>
                </ul>
                <h5>En conclusion, nous avons besoin d'élargir notre étude pour pondérer nos moyennes.</h5>
                <p class="lead">Pour corriger ces biais, nous avons décidé d'enrichir notre dataset avec des informations supplémentaires sur chaque commune, notamment leur population et leur superficie.</p>
                <p class="lead">Grâce à ces nouvelles données, nous pouvons espérer découvrir les raisons sous-jacentes de ce résultat étonnant.</p>
            </div>
        </section>
        
        <section class="d-flex flex-column justify-content-center align-items-center text-center border">
            <div style="max-width: 60vw;">
                <h1 class="mb-4">Enrichissement</h1>
                <h5>Enrichissement des données</h5>

                <p class="lead">
                    Pour affiner notre étude et corriger les biais identifiés dans les premiers résultats, nous avons décidé d’enrichir notre dataset avec deux informations essentielles pour chaque commune :
                    <strong>la population en 2016</strong> et <strong>la surface (en km²)</strong>.
                </p>

                <p class="lead">
                    Le choix de ces deux données nous est apparu comme le plus pertinent pour compléter notre analyse :
                </p>

                <ul class="list-unstyled lead">
                    <li>- <strong>La population</strong> : plus une commune est peuplée, plus elle est susceptible de générer de la pollution (trafic, chauffage, industrie…).</li>
                    <li>- <strong>La surface</strong> : utile pour mesurer l’étendue réelle et calculer ensuite la densité de population.</li>
                </ul>

                <p class="lead">
                    Ces éléments nous permettent ensuite de calculer la <strong>densité de population</strong>, bien plus représentative de la pression humaine exercée sur le territoire.
                </p>
            </div>
        </section>
        <section class="d-flex flex-column justify-content-center align-items-center text-center border">
            <div style="max-width: 60vw;">
                <h1 class="mb-4">Enrichissement</h1>
                <h5>Pourquoi seulement ces données ?</h5>

                <p class="lead">
                    Nous aurions souhaité intégrer d’autres variables, comme le <strong>budget annuel des communes</strong> consacré à l’environnement ou aux espaces verts, qui aurait pu constituer un indicateur intéressant.
                </p>

                <p class="lead">
                    Cependant, ces données étaient soit indisponibles, soit trop incomplètes ou incohérentes selon les communes. Elles ne pouvaient donc pas être intégrées de manière fiable dans notre étude.
                </p>

                <p class="lead">
                    Nous reviendrons néanmoins sur ces pistes dans la section « Pour aller plus loin ».
                </p>
            </div>
        </section>
        <section class="d-flex flex-column justify-content-center align-items-center text-center border">
            <div style="max-width: 60vw;">
                <h1 class="mb-4">Enrichissement</h1>
                <h5>Exemple d’une commune dans GraphDB</h5>

                <p class="lead">
                    Après enrichissement, chaque commune est décrite par un ensemble de propriétés : son nom, son code INSEE, son score de fleurs, les niveaux mesurés de pollution, la population, la surface ainsi que la densité calculée.
                </p>

                <pre class="bg-light p-3 rounded text-start">
                                                            rcw:Commune123
                                                                rdf:type rcw:Commune ;
                                                                rcw:nom "Ville-d’Exemple" ;
                                                                rcw:codeINSEE "91234" ;
                                                                rcw:scoreFleur 3 ;
                                                                rcw:no2 21 ;
                                                                rcw:o3 48 ;
                                                                rcw:pm10 15 ;
                                                                rcw:population 28450 ;
                                                                rcw:surface 12.4 ;
                                                                rcw:densitePopulation 2294 .
                </pre>

                <h5 class="mt-4">Autres angles d'analyse possibles</h5>

                <p class="lead">
                    D’autres pistes auraient pu être explorées : corrélation entre espaces verts et pollution, impact du réseau de transport, typologie des communes, ou encore évolution temporelle. Elles sortaient cependant du périmètre de notre étude.
                </p>
            </div>
        </section>


        
        <section class="d-flex flex-column justify-content-center align-items-center text-center border">
            <div style="max-width: 60vw;">
                <h1 class="mb-4">Enrichissement</h1>
                <h5> TODO </h5>
                <p class="lead">Décrire le processus d'enrichissement des données avec la population en 2016 (date de létude) et la surface.</p>
                <p class="lead">Dire pourquoi on a chosis ceux la et pas d'autres  genre population car + de gens = + polution etc...  surface car + grand = plus a fleurir  et surtout les deux pour calculer la densite de pop</p>
                <p class="lead">Dire qu'on aurait voulu prendre le budget anuel des mairies mais indispo et données trop disparates mais qu'on en parlera dans la section bonus</p>
                <p class="lead">Montrer a quoi ressemble une commune dans graphdb</p>
                <p class="lead">peut etre montrer d'autre angles d'attanque qui aurait ete interessant mais qui rentrait pas forcement dans notre étude</p>
                
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-dark text-light text-center py-2 position-fixed bottom-0 w-100 py-3">
        ©2025 - Alexandre Charpentier & Nicolas Vouilloux
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/requete.js"></script>
</body>
</html>